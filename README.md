# ちどりーど

## お知らせ
解説をQiita記事にしました。

- コンセプト編：https://qiita.com/nikolito/items/8b39f8ec16f28fe2700f
- 技術編：https://qiita.com/nikolito/items/bfd43c38467790fd07a0

## アプリの概要

飲食店で呑み始める時に、上のバスボタンを押下しておく」だけで、
- 飲食店最寄りのバスの発車時間や経路をお知らせ♪
- バスに乗った後も、バス位置と通過バス停をリアルタイム確認／降りるタイミングをお知らせ♪

好きなだけバスボタンを押してください♪

ちなみにモバイル端末のホーム画面にアイコンを登録すると、（特にiOSで）使いやすくなります。

## 特徴

ボタンを押すだけのカンタン操作！スマホでもPCでもチェック！
ボタン押下した現在位置から、帰宅時刻にあわせた最適なバスルート（旅程）を自動検索
あらかじめバス停付近の飲食店やバス停のリアルタイム時刻表をチェックできます。
バスに乗車してからも、バスの速度を検知して、現在地と通過バス停を確認できる画面に切り替わります。
時々ナビキャラが出てきて、帰る時間やバス停までの距離を教えてくれます。

## 1. 設定

はじめに、カンタン操作のため、アプリに次の項目を設定しておきます。

- お名前
- 自宅最寄りのバス停
- 帰宅したい時刻
- ナビキャラ

これらの情報はこのアプリの動作のためだけに使います。

## 2. 「どっ？」ボタン

設定が終わると、直下に「どっ？」のボタンが現れます。それを押すとバスボタンが現れます。
滞在する場所でボタンを押してください。
ボタンを押した場所から帰りのバス停までの経路が現れます。
各経路画面を押すと、詳細が現れます。さらに地図で経路の確認ができます。

## 3. 乗車モード

経路画面のままバスに乗ると、5m/sec（18km/h）以上の速度を検知し、「乗車モード」画面に切り替わります。
乗車モードでは、現在乗っているバスと通過するバス停、予定時刻を確認できます。さらに、到着バス停と乗車バスとの距離に応じてアラームを出します。

## デモモード

このアプリでは佐賀県下のバスデータと位置情報を扱うため、それらのデータ範囲外からアクセスした場合、あるいは位置情報がオフである場合、「デモモード」に切り替わります。デモモードでは、現在位置はJR佐賀駅とみなして動作します。乗車モードのデモでは、実際に佐賀で乗車した状態で遷移する画面に限りなく近い状態でデモ表示を行います。

## Web版での特記事項

現在地情報を利用できる機器とネット環境をご利用ください。
本アプリのアイコンをiOS端末のホーム画面に追加すると、フル画面で操作し、ブラウザとは別のプロセスで動作するようになります。特に小さな画面をお使いの方にオススメ！
Webブラウザでは、仕様のため、現在地取得とアラーム音を「許可」する環境設定が必要です。

このサービスは2019年3月末までの期間限定です。

## 個人情報の取り扱い

所有者の個人情報は取得しません。端末の位置・速度情報は端末内部ストレージに一時的に取得します。全てを消去する場合は、「設定する」画面の下部にある、「クリア」ボタンを押せばすべて消去できます。

## 謝辞

このアプリの作成にあたり、以下のオープンデータ、オープンソースソフトウェア、フリー素材を使用しました。

- 佐賀県・バス情報オープンデータ
- OpenTripPlanner
- Leaflet
- OpenStreetMap
- 魔王魂・音素材の一部
- ニコニ・コモンズ・音素材の一部
- 小石克様・ナビキャラ画像など
- 牛島清豪様・バスアイコン

このアプリの作成にあたり、以下の商用サービス（試用、フリー版、クーポン券）を使用しました。

- monaca（試用版）
- ぐるなびAPI
- さくらのクラウド

## さいごに

このアプリの作成者はチーム酔人@Code for Sagaです。
プログラム実装者は吉賀@チーム酔人です。

